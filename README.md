# Как запустить проект

Мы использовали poetry для версионирования, поэтому вам достаточно создать окружение использу toml файл

- Установите питон (например 3.11)и poetry
-  poetry env (можно явно указать путь до питона в виде use C:\)
-  Creating virtualenv rag-prompt-injection-detector-8FInNsB7-py3.11 in C:\Users\Andrey\AppData\Local\pypoetry\Cache\virtualenvs
-  используйте созданное окружение (путь до него будет указан после создания, смотри пример сверху)
-  Установите необходимые зависимости командой poetry install
-  в корне создайте secret.py TELEGRAM_BOT_TOKEN = Токен для бота API_KEY = токен для MistralAI
-  запустите bot.py, чтобы создать ТГ бота
-  чтобы задать вопрос RAG агенту используйте _init_.py

## О чем этот проект

Мы хотели сделать защиту, которая бы опиралась на архитектуру RAG. 

Итог проекта - пример RAG агента, который детектирует jailbreak.

Для презентации наших результатов мы сделали простой RAG, который призван отвечать на вопросы питона и простой ТГ-Бот, через который можно пообщаться с агентом.

Подробно о экспериментах можно посмотреть в презентации.

В папке rag_prompt_injection_detector находятся основные модули нашего RAG агента:

-rag класс RAG - основа агента, в нем логика работы, llm, emb
-detector - Detector класс, который используется для детекции jailbreak
-vectorstore - VectorStore класс, который используется для получения context, jailbreak context, a также с его помощью можно обучить Detector
-primary_cpu.pt - хранит обученный детектор

В папке data храняться данные, полученные нами после обработки исходного датасета

Мы не мало экспериментировали, большая часть экспериментов находиться в ноутбуках.

## Полезные ссылки

Наш бот - @safety_rag_for_python_bot

(Он иногда спит, чтобы его разбудтить можно использовать почту: strelkov.as@phystech.edu

Презентация - https://docs.google.com/presentation/d/1apNO330lFwAPMLrEKN_rBlIDZAmsFPw5NsXHmxfjuo4/edit?usp=sharing







